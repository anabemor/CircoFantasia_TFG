<div class="max-w-6xl mx-auto p-6 bg-white rounded shadow">
  <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">Historial de Reservas</h2>

  <!-- Filtros -->
  <form (ngSubmit)="filtrarReservas()" class="flex flex-wrap gap-4 mb-6">
    <mat-form-field appearance="fill" class="flex-1 min-w-[200px]">
      <mat-label>Desde</mat-label>
      <input matInput [matDatepicker]="picker1" [(ngModel)]="fechaInicio" name="fechaInicio">
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill" class="flex-1 min-w-[200px]">
      <mat-label>Hasta</mat-label>
      <input matInput [matDatepicker]="picker2" [(ngModel)]="fechaFin" name="fechaFin">
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit">Filtrar</button>
    <button mat-raised-button color="accent" type="button" (click)="exportarPDF()">Exportar PDF</button>
    <button mat-raised-button color="warn" type="button" (click)="exportarExcel()">Exportar Excel</button>

  </form>


  <!-- Tabla -->
  <table class="w-full table-auto border-collapse">
    <thead>
      <tr class="bg-gray-100 text-left">
        <th class="p-2 border">Nombre</th>
        <th class="p-2 border">Email</th>
        <th class="p-2 border">Fecha Visita</th>
        <th class="p-2 border">Adultos</th>
        <th class="p-2 border">Niños</th>
        <th class="p-2 border">Total</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of reservas" class="hover:bg-gray-50">
        <td class="p-2 border">{{ r.nombre }} {{ r.apellidos }}</td>
        <td class="p-2 border">{{ r.email }}</td>
        <td class="p-2 border">{{ r.fechaVisita | date:'dd/MM/yyyy' }}</td>
        <td class="p-2 border">{{ getCantidadPorTipo(r, 'Adulto') }}</td>
        <td class="p-2 border">{{ getCantidadPorTipo(r, 'Niño') }}</td>
        <td class="p-2 border">{{ getTotalReserva(r) | currency:'EUR' }}</td>
      </tr>
    </tbody>
  </table>
</div>



<button mat-raised-button color="primary" type="submit">Filtrar</button>

<button mat-raised-button color="accent" type="button" (click)="exportarPDF()">
  Exportar PDF
</button>

<button mat-raised-button color="warn" type="button" (click)="exportarExcel()">
  Exportar Excel
</button>